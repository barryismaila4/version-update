{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/notification.service\";\nimport * as i2 from \"../../services/plant.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction NotificationsComponent_div_5_option_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const plant_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", plant_r3.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(plant_r3.name);\n  }\n}\nfunction NotificationsComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"h3\");\n    i0.ɵɵtext(2, \"Nouvelle notification\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 6);\n    i0.ɵɵlistener(\"ngSubmit\", function NotificationsComponent_div_5_Template_form_ngSubmit_3_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.createNotification());\n    });\n    i0.ɵɵelementStart(4, \"input\", 7);\n    i0.ɵɵlistener(\"ngModelChange\", function NotificationsComponent_div_5_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.newNotification.title = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"textarea\", 8);\n    i0.ɵɵlistener(\"ngModelChange\", function NotificationsComponent_div_5_Template_textarea_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.newNotification.description = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"input\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function NotificationsComponent_div_5_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.newNotification.notificationDate = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"select\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function NotificationsComponent_div_5_Template_select_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.newNotification.plantId = $event);\n    });\n    i0.ɵɵelementStart(8, \"option\", 11);\n    i0.ɵɵtext(9, \"Aucune plante\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, NotificationsComponent_div_5_option_10_Template, 2, 2, \"option\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 13);\n    i0.ɵɵtext(12, \"Cr\\u00E9er\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function NotificationsComponent_div_5_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.cancelForm());\n    });\n    i0.ɵɵtext(14, \"Annuler\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newNotification.title);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newNotification.description);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newNotification.notificationDate);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newNotification.plantId);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.plants);\n  }\n}\nfunction NotificationsComponent_div_7_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function NotificationsComponent_div_7_button_9_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const notification_r11 = i0.ɵɵnextContext().$implicit;\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.markAsRead(notification_r11.id));\n    });\n    i0.ɵɵtext(1, \"Marquer comme lu\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NotificationsComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"h4\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"small\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 17);\n    i0.ɵɵtemplate(9, NotificationsComponent_div_7_button_9_Template, 2, 0, \"button\", 18);\n    i0.ɵɵelementStart(10, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function NotificationsComponent_div_7_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const notification_r11 = restoredCtx.$implicit;\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.deleteNotification(notification_r11.id));\n    });\n    i0.ɵɵtext(11, \"Supprimer\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const notification_r11 = ctx.$implicit;\n    i0.ɵɵclassProp(\"unread\", !notification_r11.isRead);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(notification_r11.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(notification_r11.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Date: \", i0.ɵɵpipeBind2(7, 6, notification_r11.notificationDate, \"medium\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", !notification_r11.isRead);\n  }\n}\nexport class NotificationsComponent {\n  constructor(notificationService, plantService) {\n    this.notificationService = notificationService;\n    this.plantService = plantService;\n    this.notifications = [];\n    this.plants = [];\n    this.showForm = false;\n    this.newNotification = {\n      id: 0,\n      title: '',\n      description: '',\n      notificationDate: new Date().toISOString(),\n      isRead: false,\n      user: undefined,\n      plant: undefined\n    };\n    this.selectedPlantId = 0;\n  }\n  ngOnInit() {\n    this.loadNotifications();\n    this.loadPlants();\n  }\n  loadNotifications() {\n    this.notificationService.getUserNotifications().subscribe(notifications => {\n      this.notifications = notifications;\n    });\n  }\n  loadPlants() {\n    this.plantService.getUserPlants().subscribe(plants => {\n      this.plants = plants;\n    });\n  }\n  showAddForm() {\n    this.showForm = true;\n    this.newNotification = {\n      id: 0,\n      title: '',\n      description: '',\n      notificationDate: new Date().toISOString(),\n      isRead: false,\n      user: undefined,\n      plant: undefined\n    };\n    this.selectedPlantId = 0;\n  }\n  createNotification() {\n    const plantId = this.selectedPlantId === 0 ? undefined : this.selectedPlantId;\n    this.notificationService.createNotification(this.newNotification, plantId).subscribe(() => {\n      this.loadNotifications();\n      this.cancelForm();\n    });\n  }\n  markAsRead(id) {\n    this.notificationService.markAsRead(id).subscribe(() => {\n      this.loadNotifications();\n    });\n  }\n  deleteNotification(id) {\n    if (confirm('Supprimer cette notification?')) {\n      this.notificationService.deleteNotification(id).subscribe(() => {\n        this.loadNotifications();\n      });\n    }\n  }\n  cancelForm() {\n    this.showForm = false;\n  }\n  static {\n    this.ɵfac = function NotificationsComponent_Factory(t) {\n      return new (t || NotificationsComponent)(i0.ɵɵdirectiveInject(i1.NotificationService), i0.ɵɵdirectiveInject(i2.PlantService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: NotificationsComponent,\n      selectors: [[\"app-notifications\"]],\n      decls: 8,\n      vars: 2,\n      consts: [[1, \"notifications-container\"], [3, \"click\"], [\"class\", \"notification-form\", 4, \"ngIf\"], [1, \"notifications-list\"], [\"class\", \"notification-item\", 3, \"unread\", 4, \"ngFor\", \"ngForOf\"], [1, \"notification-form\"], [3, \"ngSubmit\"], [\"name\", \"title\", \"placeholder\", \"Titre\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"description\", \"placeholder\", \"Description\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"datetime-local\", \"name\", \"notificationDate\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"plantId\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"0\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"submit\"], [\"type\", \"button\", 3, \"click\"], [3, \"value\"], [1, \"notification-item\"], [1, \"actions\"], [3, \"click\", 4, \"ngIf\"]],\n      template: function NotificationsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ɵɵtext(2, \"Mes Notifications\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"button\", 1);\n          i0.ɵɵlistener(\"click\", function NotificationsComponent_Template_button_click_3_listener() {\n            return ctx.showAddForm();\n          });\n          i0.ɵɵtext(4, \"Cr\\u00E9er une notification\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(5, NotificationsComponent_div_5_Template, 15, 5, \"div\", 2);\n          i0.ɵɵelementStart(6, \"div\", 3);\n          i0.ɵɵtemplate(7, NotificationsComponent_div_7_Template, 12, 9, \"div\", 4);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ctx.showForm);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.notifications);\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm, i3.DatePipe],\n      styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["i0","NotificationsComponent","constructor","notificationService","plantService","id","title","description","notificationDate","Date","toISOString","isRead","user","undefined","plant","ngOnInit","loadNotifications","loadPlants","getUserNotifications","subscribe","notifications","getUserPlants","plants","showAddForm","showForm","newNotification","selectedPlantId","createNotification","plantId","cancelForm","markAsRead","deleteNotification","confirm","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\htismaila4\\Desktop\\Devops\\agrotrackwebapp\\src\\app\\components\\notifications\\notifications.component.html","C:\\Users\\htismaila4\\Desktop\\Devops\\agrotrackwebapp\\src\\app\\components\\notifications\\notifications.component.ts"],"sourcesContent":["<div class=\"notifications-container\">\n  <h2>Mes Notifications</h2>\n\n  <button (click)=\"showAddForm()\">Créer une notification</button>\n\n  <div *ngIf=\"showForm\" class=\"notification-form\">\n    <h3>Nouvelle notification</h3>\n    <form (ngSubmit)=\"createNotification()\">\n      <input [(ngModel)]=\"newNotification.title\" name=\"title\" placeholder=\"Titre\" required>\n      <textarea [(ngModel)]=\"newNotification.description\" name=\"description\" placeholder=\"Description\"></textarea>\n      <input type=\"datetime-local\" [(ngModel)]=\"newNotification.notificationDate\" name=\"notificationDate\" required>\n      <select [(ngModel)]=\"newNotification.plantId\" name=\"plantId\">\n        <option value=\"0\">Aucune plante</option>\n        <option *ngFor=\"let plant of plants\" [value]=\"plant.id\">{{plant.name}}</option>\n      </select>\n      <button type=\"submit\">Créer</button>\n      <button type=\"button\" (click)=\"cancelForm()\">Annuler</button>\n    </form>\n  </div>\n\n  <div class=\"notifications-list\">\n    <div *ngFor=\"let notification of notifications\"\n         class=\"notification-item\"\n         [class.unread]=\"!notification.isRead\">\n      <h4>{{notification.title}}</h4>\n      <p>{{notification.description}}</p>\n      <small>Date: {{notification.notificationDate | date:'medium'}}</small>\n      <div class=\"actions\">\n        <button *ngIf=\"!notification.isRead\" (click)=\"markAsRead(notification.id)\">Marquer comme lu</button>\n        <button (click)=\"deleteNotification(notification.id)\">Supprimer</button>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { Notification } from '\nimport { NotificationService } from '../../services/notification.service';\nimport { PlantService } from '../../services/plant.service';\nimport { Plant } from 'src/app/models/plant';\n\n\n@Component({\n  selector: 'app-notifications',\n  templateUrl: './notifications.component.html',\n  styleUrls: ['./notifications.component.css']\n})\nexport class NotificationsComponent implements OnInit {\n  notifications: Notification[] = [];\n  plants: Plant[] = [];\n  showForm = false;\n  newNotification: Notification = {\n    id: 0,\n    title: '',\n    description: '',\n    notificationDate: new Date().toISOString(),\n    isRead: false,\n    user: undefined,\n    plant: undefined\n  };\n  selectedPlantId: number = 0;\n\n  constructor(\n    private notificationService: NotificationService,\n    private plantService: PlantService\n  ) {}\n\n  ngOnInit() {\n    this.loadNotifications();\n    this.loadPlants();\n  }\n\n  loadNotifications() {\n    this.notificationService.getUserNotifications().subscribe(notifications => {\n      this.notifications = notifications;\n    });\n  }\n\n  loadPlants() {\n    this.plantService.getUserPlants().subscribe(plants => {\n      this.plants = plants;\n    });\n  }\n\n  showAddForm() {\n    this.showForm = true;\n    this.newNotification = {\n      id: 0,\n      title: '',\n      description: '',\n      notificationDate: new Date().toISOString(),\n      isRead: false,\n      user: undefined,\n      plant: undefined\n    };\n    this.selectedPlantId = 0;\n  }\n\n  createNotification() {\n    const plantId = this.selectedPlantId === 0 ? undefined : this.selectedPlantId;\n    this.notificationService.createNotification(this.newNotification, plantId)\n      .subscribe(() => {\n        this.loadNotifications();\n        this.cancelForm();\n      });\n  }\n\n  markAsRead(id: number) {\n    this.notificationService.markAsRead(id).subscribe(() => {\n      this.loadNotifications();\n    });\n  }\n\n  deleteNotification(id: number) {\n    if (confirm('Supprimer cette notification?')) {\n      this.notificationService.deleteNotification(id).subscribe(() => {\n        this.loadNotifications();\n      });\n    }\n  }\n\n  cancelForm() {\n    this.showForm = false;\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}