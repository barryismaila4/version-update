{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/plant.service\";\nexport class PlantsComponent {\n  constructor(plantService) {\n    this.plantService = plantService;\n    this.plants = [];\n    this.selectedPlant = null;\n    this.showForm = false;\n    this.editingPlant = null;\n    this.newPlant = {\n      id: 0,\n      name: '',\n      description: '',\n      plantType: '',\n      userId: 0\n    };\n  }\n  ngOnInit() {\n    this.loadPlants();\n  }\n  loadPlants() {\n    this.plantService.getUserPlants().subscribe(plants => {\n      this.plants = plants;\n    });\n  }\n  showPlantDetails(plant) {\n    this.selectedPlant = plant;\n  }\n  showAddForm() {\n    this.showForm = true;\n    this.editingPlant = null;\n    this.newPlant = {\n      id: 0,\n      name: '',\n      description: '',\n      plantType: '',\n      userId: 0\n    };\n  }\n  showEditForm(plant) {\n    this.showForm = true;\n    this.editingPlant = plant;\n    this.newPlant = {\n      ...plant\n    };\n  }\n  savePlant() {\n    if (this.editingPlant) {\n      this.plantService.updatePlant(this.editingPlant.id, this.newPlant).subscribe(() => {\n        this.loadPlants();\n        this.cancelForm();\n      });\n    } else {\n      this.plantService.createPlant(this.newPlant).subscribe(() => {\n        this.loadPlants();\n        this.cancelForm();\n      });\n    }\n  }\n  deletePlant(id) {\n    if (confirm('Supprimer cette plante?')) {\n      this.plantService.deletePlant(id).subscribe(() => {\n        this.loadPlants();\n        this.selectedPlant = null;\n      });\n    }\n  }\n  waterPlant(id) {\n    this.plantService.waterPlant(id).subscribe(() => {\n      this.loadPlants();\n      if (this.selectedPlant?.id === id) {\n        this.selectedPlant.lastWatered = new Date().toISOString();\n      }\n    });\n  }\n  cancelForm() {\n    this.showForm = false;\n    this.editingPlant = null;\n    this.newPlant = {\n      id: 0,\n      name: '',\n      description: '',\n      plantType: '',\n      userId: 0\n    };\n  }\n  static {\n    this.ɵfac = function PlantsComponent_Factory(t) {\n      return new (t || PlantsComponent)(i0.ɵɵdirectiveInject(i1.PlantService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: PlantsComponent,\n      selectors: [[\"app-plants\"]],\n      decls: 2,\n      vars: 0,\n      template: function PlantsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"p\");\n          i0.ɵɵtext(1, \"plants works!\");\n          i0.ɵɵelementEnd();\n        }\n      },\n      styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["PlantsComponent","constructor","plantService","id","name","description","plantType","userId","ngOnInit","loadPlants","getUserPlants","subscribe","plants","showPlantDetails","plant","selectedPlant","showAddForm","showForm","editingPlant","newPlant","showEditForm","savePlant","updatePlant","cancelForm","createPlant","deletePlant","confirm","waterPlant","lastWatered","Date","toISOString","selectors","decls","vars","template","i0"],"sourceRoot":"","sources":["C:\\Users\\htismaila4\\Desktop\\Devops\\agrotrackwebapp\\src\\app\\components\\plants\\plants.component.ts","C:\\Users\\htismaila4\\Desktop\\Devops\\agrotrackwebapp\\src\\app\\components\\plants\\plants.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\n\nimport { PlantService } from '../../services/plant.service';\n\n@Component({\n  selector: 'app-plants',\n  templateUrl: './plants.component.html',\n  styleUrls: ['./plants.component.css']\n})\nexport class PlantsComponent implements OnInit {\n  plants: Plant[] = [];\n  selectedPlant: Plant | null = null;\n  showForm = false;\n  editingPlant: Plant | null = null;\n  newPlant: Plant = { id: 0, name: '', description: '', plantType: '', userId: 0 };\n\n  constructor(private plantService: PlantService) {}\n\n  ngOnInit() {\n    this.loadPlants();\n  }\n\n  loadPlants() {\n    this.plantService.getUserPlants().subscribe(plants => {\n      this.plants = plants;\n    });\n  }\n\n  showPlantDetails(plant: Plant) {\n    this.selectedPlant = plant;\n  }\n\n  showAddForm() {\n    this.showForm = true;\n    this.editingPlant = null;\n    this.newPlant = { id: 0, name: '', description: '', plantType: '', userId: 0 };\n  }\n\n  showEditForm(plant: Plant) {\n    this.showForm = true;\n    this.editingPlant = plant;\n    this.newPlant = { ...plant };\n  }\n\n  savePlant() {\n    if (this.editingPlant) {\n      this.plantService.updatePlant(this.editingPlant.id, this.newPlant).subscribe(() => {\n        this.loadPlants();\n        this.cancelForm();\n      });\n    } else {\n      this.plantService.createPlant(this.newPlant).subscribe(() => {\n        this.loadPlants();\n        this.cancelForm();\n      });\n    }\n  }\n\n  deletePlant(id: number) {\n    if (confirm('Supprimer cette plante?')) {\n      this.plantService.deletePlant(id).subscribe(() => {\n        this.loadPlants();\n        this.selectedPlant = null;\n      });\n    }\n  }\n\n  waterPlant(id: number) {\n    this.plantService.waterPlant(id).subscribe(() => {\n      this.loadPlants();\n      if (this.selectedPlant?.id === id) {\n        this.selectedPlant.lastWatered = new Date().toISOString();\n      }\n    });\n  }\n\n  cancelForm() {\n    this.showForm = false;\n    this.editingPlant = null;\n    this.newPlant = { id: 0, name: '', description: '', plantType: '', userId: 0 };\n  }\n}","<p>plants works!</p>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}