{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/notification.service\";\nimport * as i2 from \"../../services/plant.service\";\nexport class NotificationsComponent {\n  constructor(notificationService, plantService) {\n    this.notificationService = notificationService;\n    this.plantService = plantService;\n    this.notifications = [];\n    this.plants = [];\n    this.showForm = false;\n    this.newNotification = {\n      id: 0,\n      title: '',\n      description: '',\n      notificationDate: new Date().toISOString(),\n      isRead: false,\n      userId: 0,\n      plantId: 0\n    };\n  }\n  ngOnInit() {\n    this.loadNotifications();\n    this.loadPlants();\n  }\n  loadNotifications() {\n    this.notificationService.getUserNotifications().subscribe(notifications => {\n      this.notifications = notifications;\n    });\n  }\n  loadPlants() {\n    this.plantService.getUserPlants().subscribe(plants => {\n      this.plants = plants;\n    });\n  }\n  showAddForm() {\n    this.showForm = true;\n    this.newNotification = {\n      id: 0,\n      title: '',\n      description: '',\n      notificationDate: new Date().toISOString(),\n      isRead: false,\n      userId: 0,\n      plantId: 0\n    };\n  }\n  createNotification() {\n    this.notificationService.createNotification(this.newNotification, this.newNotification.plantId || undefined).subscribe(() => {\n      this.loadNotifications();\n      this.cancelForm();\n    });\n  }\n  markAsRead(id) {\n    this.notificationService.markAsRead(id).subscribe(() => {\n      this.loadNotifications();\n    });\n  }\n  deleteNotification(id) {\n    if (confirm('Supprimer cette notification?')) {\n      this.notificationService.deleteNotification(id).subscribe(() => {\n        this.loadNotifications();\n      });\n    }\n  }\n  cancelForm() {\n    this.showForm = false;\n  }\n  static {\n    this.ɵfac = function NotificationsComponent_Factory(t) {\n      return new (t || NotificationsComponent)(i0.ɵɵdirectiveInject(i1.NotificationService), i0.ɵɵdirectiveInject(i2.PlantService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: NotificationsComponent,\n      selectors: [[\"app-notifications\"]],\n      decls: 2,\n      vars: 0,\n      template: function NotificationsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"p\");\n          i0.ɵɵtext(1, \"notifications works!\");\n          i0.ɵɵelementEnd();\n        }\n      },\n      styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"mappings":";;;AAWA,OAAM,MAAOA,sBAAsB;EAcjCC,YACUC,mBAAwC,EACxCC,YAA0B;IAD1B,wBAAmB,GAAnBD,mBAAmB;IACnB,iBAAY,GAAZC,YAAY;IAftB,kBAAa,GAAmB,EAAE;IAClC,WAAM,GAAY,EAAE;IACpB,aAAQ,GAAG,KAAK;IAChB,oBAAe,GAAiB;MAC9BC,EAAE,EAAE,CAAC;MACLC,KAAK,EAAE,EAAE;MACTC,WAAW,EAAE,EAAE;MACfC,gBAAgB,EAAE,IAAIC,IAAI,EAAE,CAACC,WAAW,EAAE;MAC1CC,MAAM,EAAE,KAAK;MACbC,MAAM,EAAE,CAAC;MACTC,OAAO,EAAE;KACV;EAKE;EAEHC,QAAQ;IACN,IAAI,CAACC,iBAAiB,EAAE;IACxB,IAAI,CAACC,UAAU,EAAE;EACnB;EAEAD,iBAAiB;IACf,IAAI,CAACZ,mBAAmB,CAACc,oBAAoB,EAAE,CAACC,SAAS,CAACC,aAAa,IAAG;MACxE,IAAI,CAACA,aAAa,GAAGA,aAAa;IACpC,CAAC,CAAC;EACJ;EAEAH,UAAU;IACR,IAAI,CAACZ,YAAY,CAACgB,aAAa,EAAE,CAACF,SAAS,CAACG,MAAM,IAAG;MACnD,IAAI,CAACA,MAAM,GAAGA,MAAM;IACtB,CAAC,CAAC;EACJ;EAEAC,WAAW;IACT,IAAI,CAACC,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACC,eAAe,GAAG;MACrBnB,EAAE,EAAE,CAAC;MACLC,KAAK,EAAE,EAAE;MACTC,WAAW,EAAE,EAAE;MACfC,gBAAgB,EAAE,IAAIC,IAAI,EAAE,CAACC,WAAW,EAAE;MAC1CC,MAAM,EAAE,KAAK;MACbC,MAAM,EAAE,CAAC;MACTC,OAAO,EAAE;KACV;EACH;EAEAY,kBAAkB;IAChB,IAAI,CAACtB,mBAAmB,CAACsB,kBAAkB,CAAC,IAAI,CAACD,eAAe,EAAE,IAAI,CAACA,eAAe,CAACX,OAAO,IAAIa,SAAS,CAAC,CACzGR,SAAS,CAAC,MAAK;MACd,IAAI,CAACH,iBAAiB,EAAE;MACxB,IAAI,CAACY,UAAU,EAAE;IACnB,CAAC,CAAC;EACN;EAEAC,UAAU,CAACvB,EAAU;IACnB,IAAI,CAACF,mBAAmB,CAACyB,UAAU,CAACvB,EAAE,CAAC,CAACa,SAAS,CAAC,MAAK;MACrD,IAAI,CAACH,iBAAiB,EAAE;IAC1B,CAAC,CAAC;EACJ;EAEAc,kBAAkB,CAACxB,EAAU;IAC3B,IAAIyB,OAAO,CAAC,+BAA+B,CAAC,EAAE;MAC5C,IAAI,CAAC3B,mBAAmB,CAAC0B,kBAAkB,CAACxB,EAAE,CAAC,CAACa,SAAS,CAAC,MAAK;QAC7D,IAAI,CAACH,iBAAiB,EAAE;MAC1B,CAAC,CAAC;;EAEN;EAEAY,UAAU;IACR,IAAI,CAACJ,QAAQ,GAAG,KAAK;EACvB;;;uBAzEWtB,sBAAsB;IAAA;EAAA;;;YAAtBA,sBAAsB;MAAA8B;MAAAC;MAAAC;MAAAC;QAAA;UCXnCC,yBAAG;UAAAA,oCAAoB;UAAAA,iBAAI","names":["NotificationsComponent","constructor","notificationService","plantService","id","title","description","notificationDate","Date","toISOString","isRead","userId","plantId","ngOnInit","loadNotifications","loadPlants","getUserNotifications","subscribe","notifications","getUserPlants","plants","showAddForm","showForm","newNotification","createNotification","undefined","cancelForm","markAsRead","deleteNotification","confirm","selectors","decls","vars","template","i0"],"sourceRoot":"","sources":["C:\\Users\\htismaila4\\Desktop\\Devops\\agrotrackwebapp\\src\\app\\components\\notifications\\notifications.component.ts","C:\\Users\\htismaila4\\Desktop\\Devops\\agrotrackwebapp\\src\\app\\components\\notifications\\notifications.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Notification } from '../../models/notification.model';\nimport { NotificationService } from '../../services/notification.service';\nimport { PlantService } from '../../services/plant.service';\n\n\n@Component({\n  selector: 'app-notifications',\n  templateUrl: './notifications.component.html',\n  styleUrls: ['./notifications.component.css']\n})\nexport class NotificationsComponent implements OnInit {\n  notifications: Notification[] = [];\n  plants: Plant[] = [];\n  showForm = false;\n  newNotification: Notification = {\n    id: 0,\n    title: '',\n    description: '',\n    notificationDate: new Date().toISOString(),\n    isRead: false,\n    userId: 0,\n    plantId: 0\n  };\n\n  constructor(\n    private notificationService: NotificationService,\n    private plantService: PlantService\n  ) {}\n\n  ngOnInit() {\n    this.loadNotifications();\n    this.loadPlants();\n  }\n\n  loadNotifications() {\n    this.notificationService.getUserNotifications().subscribe(notifications => {\n      this.notifications = notifications;\n    });\n  }\n\n  loadPlants() {\n    this.plantService.getUserPlants().subscribe(plants => {\n      this.plants = plants;\n    });\n  }\n\n  showAddForm() {\n    this.showForm = true;\n    this.newNotification = {\n      id: 0,\n      title: '',\n      description: '',\n      notificationDate: new Date().toISOString(),\n      isRead: false,\n      userId: 0,\n      plantId: 0\n    };\n  }\n\n  createNotification() {\n    this.notificationService.createNotification(this.newNotification, this.newNotification.plantId || undefined)\n      .subscribe(() => {\n        this.loadNotifications();\n        this.cancelForm();\n      });\n  }\n\n  markAsRead(id: number) {\n    this.notificationService.markAsRead(id).subscribe(() => {\n      this.loadNotifications();\n    });\n  }\n\n  deleteNotification(id: number) {\n    if (confirm('Supprimer cette notification?')) {\n      this.notificationService.deleteNotification(id).subscribe(() => {\n        this.loadNotifications();\n      });\n    }\n  }\n\n  cancelForm() {\n    this.showForm = false;\n  }\n}","<p>notifications works!</p>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}